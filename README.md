# Converting-GeoJSON-to-XML

## Description
This Groovy code reads the extracted ocean glider observation metadata saved as GeoJSON and maps it to OGC O&M Observation model.


All the XML files generated by this code are conformant with OGC Sensor Web Enablement standards. The XML implementation is done according to the OGC Observation and Measurement XML implementation version 2.0, OGC SensorML Model and XML Encoding Standard version 2.0.0.

This script is organized as the following:

  1- The first part extracts the variable names form the Argo project Parameter list. This results in a list of all the variables that could be mapped to the NERC Vocabulary server.

  2- The second part creates the om:OM_Observation xml metadata file.

  3- The third part creates the om:observedProperty which links the variables in the glider mission's file to the NERC vocabulary server.

  4- The fourth part creates the InsertSensor xml request file.



  ## How to use
  The glider metadata could be extracted though the following code:
  
   https://github.com/FadiMoubayed/NetCDF-to-GeoJSON

  The Argo project Parameter list could be downloaded from the following link:
  
  http://www.argodatamgt.org/content/download/30910/209488/file/argo-parameters-list-core-and-b_20210211.xlsx

  For ease of use, the Excel file should be manually opened and the variable names and their links to the NERC vocabulary server should be saved and a csv file.

  The csv file in addition to the metadata GeoJSON files should be copied to the resources folder in the relative path.

  The output variable should indicate to the output folder where the XML files will be saved.

  Since this is only a prototype and the app is not hosted yet, The ObservedProperties files have been uploaded to Github
  
  https://github.com/FadiMoubayed/GeoJSON-to-Observation-and-Measurements/tree/main/Example%20Files/3.%20XML%20Files/ObservedProperty
  
  ## To test with the Sensor Observation Service:
  - Run 52 North Sensor Observation Service implementation docker image (or deploy using Tomcat):
  
       https://github.com/52North/SOS
  
  - Once SOS is up and running, implement InsertSensor operation
  
       Here the link to ObservedProperties file should be copied manually.
       
  - Once the InsertSensor has been implemented successfully, you will get a response with the following:
  assignedOffering
  assignedProcedure

  - Implement the InsertObservation operation. Here you need to manually copy the assignedOffering and assignedProcedure into the InsertObservation request.

  Example files are provided in the Example files folder




